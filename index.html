<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>generator-api by ndelvalle</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">generator-api</h1>
      <h2 class="project-tagline">ğŸš€ Yeoman generator for creating RESTful NodeJS APIs, using ES6, Mongoose and Express</h2>
      <a href="https://github.com/ndelvalle/generator-api" class="btn">View on GitHub</a>
      <a href="https://github.com/ndelvalle/generator-api/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ndelvalle/generator-api/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="generator-api" class="anchor" href="#generator-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>generator-api</h1>

<p><a href="https://circleci.com/gh/ndelvalle/generator-api"><img src="https://circleci.com/gh/ndelvalle/generator-api.svg?style=svg" alt="CircleCI"></a>
<a href="https://www.bithound.io/github/ndelvalle/generator-api"><img src="https://www.bithound.io/github/ndelvalle/generator-api/badges/score.svg" alt="bitHound Overall Score"></a>
<a href="https://www.bithound.io/github/ndelvalle/generator-api/master/dependencies/npm"><img src="https://www.bithound.io/github/ndelvalle/generator-api/badges/dependencies.svg" alt="bitHound Dependencies"></a>
<a href="https://www.bithound.io/github/ndelvalle/generator-api/master/dependencies/npm"><img src="https://www.bithound.io/github/ndelvalle/generator-api/badges/devDependencies.svg" alt="bitHound Dev Dependencies"></a>
<a href="https://www.bithound.io/github/ndelvalle/generator-api"><img src="https://www.bithound.io/github/ndelvalle/generator-api/badges/code.svg" alt="bitHound Code"></a>
<a href="https://www.npmjs.com/package/generator-api"><img src="https://img.shields.io/npm/v/generator-api.svg?maxAge=2592000?style=flat-square" alt="npm"></a></p>

<p><a href="https://nodei.co/npm/generator-api/"><img src="https://nodei.co/npm/generator-api.png?downloads=true" alt="NPM"></a></p>

<p>Yeoman generator for creating RESTful NodeJS APIs, using ES6, Mongoose and Express. The fastest way to get your project up and running using an awesome stack.</p>

<p><img src="http://yeoman.io/static/illustration-home-inverted.91b07808be.png" alt="generator"></p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting started</h2>

<ul>
<li>Make sure you have <a href="https://github.com/yeoman/yo">yeoman</a> installed on your machine:
<code>npm install -g yo</code>
</li>
<li>Install the generator <strong>globally</strong>: <code>npm install -g generator-api</code>
</li>
<li>Run: <code>yo api</code>, or <code>yo</code> and choose <code>Api</code> option</li>
</ul>

<h2>
<a id="running-the-generated-project" class="anchor" href="#running-the-generated-project" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running the generated project</h2>

<p>Make sure you have node version <code>&gt;= 6</code> because this project uses native supported ES6 features.</p>

<h3>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development</h3>

<ul>
<li>Run: <code>mongod</code> to start the local mongodb in a separated terminal instance (If you don't have mongodb installed locally, visit It's <a href="https://docs.mongodb.com/manual/installation/">webpage</a> to learn how to install it).</li>
<li>Run: <code>npm run dev</code> to run the app (By default the app will run at <code>localhost:8080</code>, you can change this in the config file).</li>
</ul>

<p><strong>Did you choose Docker support?</strong> <g-emoji alias="whale" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f433.png" ios-version="6.0">ğŸ³</g-emoji></p>

<p>You only need <a href="https://docs.docker.com/engine/installation/">Docker</a> and <a href="https://docs.docker.com/compose/install/">docker-compose</a> installed, no mongodb, no node, no npm. <g-emoji alias="sunglasses" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f60e.png" ios-version="6.0">ğŸ˜</g-emoji></p>

<ul>
<li>Run: <code>docker-compose up</code> to run the app. <em>You might need <code>sudo</code> for this one</em>.</li>
</ul>

<h3>
<a id="production" class="anchor" href="#production" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Production</h3>

<p>You'll likely be consuming mongodb as a service, so make sure to set the env var pointing at it.</p>

<p>Just run <code>npm start</code>.</p>

<p><strong>Wait, you choose Docker right?</strong> <g-emoji alias="whale" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f433.png" ios-version="6.0">ğŸ³</g-emoji></p>

<p>Build the Docker container and run it:</p>

<div class="highlight highlight-source-shell"><pre>sudo docker build -t <span class="pl-k">&lt;</span>image-name<span class="pl-k">&gt;</span> <span class="pl-c1">.</span>
sudo docker run \
  -p <span class="pl-k">&lt;</span>host-port<span class="pl-k">&gt;</span>:8080 \
  -d <span class="pl-k">&lt;</span>image-name<span class="pl-k">&gt;</span> \
  -e MONGO_DB_URI=mongodb://<span class="pl-k">&lt;</span>username<span class="pl-k">&gt;</span>:<span class="pl-k">&lt;</span>password<span class="pl-k">&gt;</span>@<span class="pl-k">&lt;</span>host<span class="pl-k">&gt;</span>:<span class="pl-k">&lt;</span>port<span class="pl-k">&gt;</span> \
  npm run start</pre></div>

<h2>
<a id="architecture" class="anchor" href="#architecture" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Architecture</h2>

<p>The idea is to be able to scale having a simple architecture. Assuming we use <code>user</code> and <code>pet</code> as models the generated project would look like this:</p>

<pre><code>â”œâ”€â”€â”€index.js
â”œâ”€â”€â”€routes.js
â”œâ”€â”€â”€package.json
â”œâ”€â”€â”€config.js
â””â”€â”€â”€lib/
|   â”œâ”€â”€â”€controller.js
|   â”œâ”€â”€â”€facade.js
â””â”€â”€â”€model/
    â”œâ”€â”€â”€user/
    â”‚   â””â”€â”€â”€user-controller.js
    |   â””â”€â”€â”€user-facade.js
    |   â””â”€â”€â”€user-router.js
    |   â””â”€â”€â”€user-schema.js
    â””â”€â”€â”€pet/
        â””â”€â”€â”€pet-controller.js
        â””â”€â”€â”€pet-facade.js
        â””â”€â”€â”€pet-router.js
        â””â”€â”€â”€pet-schema.js
</code></pre>

<h4>
<a id="controller" class="anchor" href="#controller" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Controller:</h4>

<p>HTTP layer, in this instance you can manage express request, response and next. In <code>lib/controller</code> are the basic RESTful methods <code>find</code>, <code>findOne</code>, <code>findById</code>, <code>create</code>, <code>update</code> and <code>remove</code>. Because this class is extending from there, you got that solved. You can overwrite extended methods or create custom ones here.</p>

<h4>
<a id="facade" class="anchor" href="#facade" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Facade:</h4>

<p>This layer works as a simplified interface of mongoose and as Business Model layer, in this instance you can manage your business logic. For example, if you want to create a pet before creating a user, because you'll end up adding that pet to the person, this is the place.</p>

<p>In <code>lib/facade</code> you have the basic support for RESTful methods. Because this class is extending from there, you got that solved. You can overwrite extended methods or create custom ones here. Also you can support more mongoose functionality like <code>skip</code>, <code>sort</code> etc.</p>

<h2>
<a id="to-do" class="anchor" href="#to-do" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>To do</h2>

<ul>
<li>Create more generator templates to add new models once the project was initialized</li>
<li>Implement testing in the generated project</li>
</ul>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Contributors are welcome, please fork and send pull requests! If you have any ideas on how to improve this project please submit an issue.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p><a href="https://github.com/ndelvalle/generator-api/blob/master/LICENSE">MIT License</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ndelvalle/generator-api">generator-api</a> is maintained by <a href="https://github.com/ndelvalle">ndelvalle</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
